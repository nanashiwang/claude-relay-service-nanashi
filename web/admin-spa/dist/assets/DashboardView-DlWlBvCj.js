import{E as Xt}from"./element-plus-BUfCkBQO.js";import{aP as Jt,r as $,c as Gt,aX as Yt,o as ht,q as te,D as lt,V as ee,x as k,z as t,P as l,u as a,L as R,O as U,C as X,Q as Mt,ac as Ft,R as ae,K as se,al as oe,y as _,B as re}from"./vue-vendor-R8HMg95E.js";import{c as it,s as Ot,_ as ne,a as le}from"./index-BeLE8XR9.js";import{C as Kt}from"./chart-yFHxLHpB.js";import"./vendor-Dr8jvgFu.js";const ie=Jt("dashboard",()=>{const Rt=$(!1),pt=$({totalApiKeys:0,activeApiKeys:0,totalAccounts:0,normalAccounts:0,abnormalAccounts:0,pausedAccounts:0,activeAccounts:0,rateLimitedAccounts:0,accountsByPlatform:{claude:{total:0,normal:0,abnormal:0,paused:0,rateLimited:0},"claude-console":{total:0,normal:0,abnormal:0,paused:0,rateLimited:0},gemini:{total:0,normal:0,abnormal:0,paused:0,rateLimited:0},openai:{total:0,normal:0,abnormal:0,paused:0,rateLimited:0},azure_openai:{total:0,normal:0,abnormal:0,paused:0,rateLimited:0},bedrock:{total:0,normal:0,abnormal:0,paused:0,rateLimited:0}},todayRequests:0,totalRequests:0,todayTokens:0,todayInputTokens:0,todayOutputTokens:0,totalTokens:0,totalInputTokens:0,totalOutputTokens:0,totalCacheCreateTokens:0,totalCacheReadTokens:0,todayCacheCreateTokens:0,todayCacheReadTokens:0,systemRPM:0,systemTPM:0,realtimeRPM:0,realtimeTPM:0,metricsWindow:5,isHistoricalMetrics:!1,streamInterruptionStats:{windowMinutes:60,totalInterruptions:0,reasons:{upstream_stream_error:0,timeout:0,client_abort:0},providers:{},updatedAt:null},systemStatus:"æ­£å¸¸",uptime:0,systemTimezone:8}),yt=$({todayCosts:{totalCost:0,formatted:{totalCost:"$0.000000"}},totalCosts:{totalCost:0,formatted:{totalCost:"$0.000000"}}}),gt=$([]),s=$([]),kt=$([]),J=$({data:[],topApiKeys:[],totalApiKeys:0}),_t=$({data:[],topAccounts:[],totalAccounts:0,group:"claude",groupLabel:"Claudeè´¦æˆ·"}),j={preset:"dashboard:date:preset",granularity:"dashboard:trend:granularity"},O="today",wt="day",xt=d=>d==="hour"?[{value:"last24h",label:"è¿‘24å°æ—¶",hours:24},{value:"yesterday",label:"æ˜¨å¤©",hours:24},{value:"dayBefore",label:"å‰å¤©",hours:24}]:[{value:"today",label:"ä»Šæ—¥",days:1},{value:"7days",label:"7å¤©",days:7},{value:"30days",label:"30å¤©",days:30}],tt=(d,h)=>{try{return localStorage.getItem(d)||h}catch{return h}},Z=(d,h)=>{try{localStorage.setItem(d,h)}catch{}},q=(d,h)=>xt(h).some(b=>b.value===d)?d:h==="hour"?"last24h":O,Pt=tt(j.granularity,wt),Dt=["day","hour"].includes(Pt)?Pt:wt,Lt=q(tt(j.preset,O),Dt),o=$({type:"preset",preset:Lt,customStart:"",customEnd:"",customRange:null,presetOptions:xt(Dt)}),L=$(Dt),Ct=$("requests"),ft=$("claude"),jt=$([new Date(2e3,1,1,0,0,0),new Date(2e3,2,1,23,59,59)]),Et=Gt(()=>{const d=pt.value.uptime,h=Math.floor(d/86400),g=Math.floor(d%86400/3600),r=Math.floor(d%3600/60);return h>0?`${h}å¤© ${g}å°æ—¶`:g>0?`${g}å°æ—¶ ${r}åˆ†é’Ÿ`:`${r}åˆ†é’Ÿ`});function w(d,h=!0){const g=d.getFullYear(),r=d.getMonth(),b=d.getDate();return h?new Date(Date.UTC(g,r,b-1,16,0,0,0)):new Date(Date.UTC(g,r,b,15,59,59,999))}const et=(d=o.value.preset,h=L.value)=>{Z(j.preset,d),Z(j.granularity,h)},Y=()=>o.value.type==="preset"&&o.value.preset==="today"&&L.value==="day"?"hour":L.value;async function Tt(d=null){var h,g;Rt.value=!0;try{let r={today:"today",all:"all"};d&&(r={today:{today:"today",all:"today"},"7days":{today:"7days",all:"7days"},monthly:{today:"monthly",all:"monthly"},all:{today:"today",all:"all"}}[d]||r);const[b,p,u]=await Promise.allSettled([it.get("/admin/dashboard"),it.get(`/admin/usage-costs?period=${r.today}`),it.get(`/admin/usage-costs?period=${r.all}`)]),n=b.status==="fulfilled"?b.value:null;if(b.status==="rejected"&&console.error("åŠ è½½ä»ªè¡¨ç›˜æ•°æ®å¤±è´¥:",b.reason),n&&n.success){const f=n.data||{},S=f.overview||{},z=f.recentActivity||{},ut=f.systemAverages||{},W=f.realtimeMetrics||{},rt=f.systemHealth||{},G=f.streamInterruptionStats||{},nt=G.reasons||{};pt.value={totalApiKeys:S.totalApiKeys||0,activeApiKeys:S.activeApiKeys||0,totalAccounts:S.totalAccounts||S.totalClaudeAccounts||0,normalAccounts:S.normalAccounts||0,abnormalAccounts:S.abnormalAccounts||0,pausedAccounts:S.pausedAccounts||0,activeAccounts:S.activeAccounts||S.activeClaudeAccounts||0,rateLimitedAccounts:S.rateLimitedAccounts||S.rateLimitedClaudeAccounts||0,accountsByPlatform:S.accountsByPlatform||{claude:{total:0,normal:0,abnormal:0,paused:0,rateLimited:0},"claude-console":{total:0,normal:0,abnormal:0,paused:0,rateLimited:0},gemini:{total:0,normal:0,abnormal:0,paused:0,rateLimited:0},openai:{total:0,normal:0,abnormal:0,paused:0,rateLimited:0},azure_openai:{total:0,normal:0,abnormal:0,paused:0,rateLimited:0},bedrock:{total:0,normal:0,abnormal:0,paused:0,rateLimited:0}},todayRequests:z.requestsToday||0,totalRequests:S.totalRequestsUsed||0,todayTokens:z.tokensToday||0,todayInputTokens:z.inputTokensToday||0,todayOutputTokens:z.outputTokensToday||0,totalTokens:S.totalTokensUsed||0,totalInputTokens:S.totalInputTokensUsed||0,totalOutputTokens:S.totalOutputTokensUsed||0,totalCacheCreateTokens:S.totalCacheCreateTokensUsed||0,totalCacheReadTokens:S.totalCacheReadTokensUsed||0,todayCacheCreateTokens:z.cacheCreateTokensToday||0,todayCacheReadTokens:z.cacheReadTokensToday||0,systemRPM:ut.rpm||0,systemTPM:ut.tpm||0,realtimeRPM:W.rpm||0,realtimeTPM:W.tpm||0,metricsWindow:W.windowMinutes||5,isHistoricalMetrics:W.isHistorical||!1,streamInterruptionStats:{windowMinutes:G.windowMinutes||60,totalInterruptions:G.totalInterruptions||0,reasons:{upstream_stream_error:nt.upstream_stream_error||0,timeout:nt.timeout||0,client_abort:nt.client_abort||0},providers:G.providers||{},updatedAt:G.updatedAt||null},systemStatus:rt.redisConnected?"æ­£å¸¸":"å¼‚å¸¸",uptime:rt.uptime||0,systemTimezone:f.systemTimezone||8}}p.status==="rejected"&&console.error("åŠ è½½å½“æœŸæˆæœ¬å¤±è´¥:",p.reason),u.status==="rejected"&&console.error("åŠ è½½æ€»æˆæœ¬å¤±è´¥:",u.reason);const m=p.status==="fulfilled"?p.value:null,i=u.status==="fulfilled"?u.value:null;if(m!=null&&m.success||i!=null&&i.success){const f=yt.value.todayCosts||{totalCost:0,formatted:{totalCost:"$0.000000"}},S=yt.value.totalCosts||{totalCost:0,formatted:{totalCost:"$0.000000"}};yt.value={todayCosts:(m==null?void 0:m.success)&&((h=m.data)==null?void 0:h.totalCosts)||f,totalCosts:(i==null?void 0:i.success)&&((g=i.data)==null?void 0:g.totalCosts)||S}}}catch(r){console.error("åŠ è½½ä»ªè¡¨æ¿æ•°æ®å¤±è´¥:",r)}finally{Rt.value=!1}}async function at(d=7,h=Y()){try{let g="/admin/usage-trend?";if(h==="hour")if(g+="granularity=hour",o.value.customRange&&o.value.customRange.length===2)g+=`&startDate=${encodeURIComponent(o.value.customRange[0])}`,g+=`&endDate=${encodeURIComponent(o.value.customRange[1])}`;else{const b=new Date;let p,u;if(o.value.type==="preset")switch(o.value.preset){case"today":{p=w(b,!0),u=w(b,!1);break}case"last24h":{u=new Date(b),p=new Date(b.getTime()-24*60*60*1e3);break}case"yesterday":{const n=new Date;n.setDate(n.getDate()-1),p=w(n,!0),u=w(n,!1);break}case"dayBefore":{const n=new Date;n.setDate(n.getDate()-2),p=w(n,!0),u=w(n,!1);break}default:p=new Date(b.getTime()-24*60*60*1e3),u=b}else p=new Date(b.getTime()-d*24*60*60*1e3),u=b;g+=`&startDate=${encodeURIComponent(p.toISOString())}`,g+=`&endDate=${encodeURIComponent(u.toISOString())}`}else g+=`granularity=day&days=${d}`;const r=await it.get(g);r.success&&(s.value=r.data)}catch(g){console.error("åŠ è½½ä½¿ç”¨è¶‹åŠ¿å¤±è´¥:",g)}}async function st(d="daily",h=null){const g=h||Y();try{let r=`/admin/model-stats?period=${d}`;if(o.value.type==="custom"||g==="hour"){if(o.value.customRange&&o.value.customRange.length===2)r+=`&startDate=${encodeURIComponent(o.value.customRange[0])}`,r+=`&endDate=${encodeURIComponent(o.value.customRange[1])}`;else if(g==="hour"&&o.value.type==="preset"){const p=new Date;let u,n;switch(o.value.preset){case"today":{u=w(p,!0),n=w(p,!1);break}case"last24h":{n=new Date(p),u=new Date(p.getTime()-24*60*60*1e3);break}case"yesterday":{const m=new Date;m.setDate(m.getDate()-1),u=w(m,!0),n=w(m,!1);break}case"dayBefore":{const m=new Date;m.setDate(m.getDate()-2),u=w(m,!0),n=w(m,!1);break}default:u=new Date(p.getTime()-24*60*60*1e3),n=p}r+=`&startDate=${encodeURIComponent(u.toISOString())}`,r+=`&endDate=${encodeURIComponent(n.toISOString())}`}}else if(o.value.type==="preset"&&g==="day"){const p=new Date;let u,n;const m=o.value.presetOptions.find(i=>i.value===o.value.preset);if(m){if(o.value.preset==="today")u=w(p,!0),n=w(p,!1);else{const i=new Date;i.setDate(i.getDate()-(m.days-1)),u=w(i,!0),n=w(p,!1)}r+=`&startDate=${encodeURIComponent(u.toISOString())}`,r+=`&endDate=${encodeURIComponent(n.toISOString())}`}}const b=await it.get(r);b.success&&(kt.value=b.data)}catch(r){console.error("åŠ è½½æ¨¡å‹ç»Ÿè®¡å¤±è´¥:",r)}}async function ot(d="requests",h=null){const g=h||Y();try{let r="/admin/api-keys-usage-trend?",b=7;if(g==="hour")if(r+="granularity=hour",o.value.customRange&&o.value.customRange.length===2)r+=`&startDate=${encodeURIComponent(o.value.customRange[0])}`,r+=`&endDate=${encodeURIComponent(o.value.customRange[1])}`;else{const u=new Date;let n,m;if(o.value.type==="preset")switch(o.value.preset){case"today":{n=w(u,!0),m=w(u,!1);break}case"last24h":{m=new Date(u),n=new Date(u.getTime()-24*60*60*1e3);break}case"yesterday":{const i=new Date;i.setDate(i.getDate()-1),n=w(i,!0),m=w(i,!1);break}case"dayBefore":{const i=new Date;i.setDate(i.getDate()-2),n=w(i,!0),m=w(i,!1);break}default:n=new Date(u.getTime()-24*60*60*1e3),m=u}else n=new Date(u.getTime()-24*60*60*1e3),m=u;r+=`&startDate=${encodeURIComponent(n.toISOString())}`,r+=`&endDate=${encodeURIComponent(m.toISOString())}`}else b=o.value.type==="preset"?o.value.preset==="today"?1:o.value.preset==="7days"?7:30:At(o.value.customStart,o.value.customEnd),r+=`granularity=day&days=${b}`;r+=`&metric=${d}`;const p=await it.get(r);p.success&&(J.value={data:p.data||[],topApiKeys:p.topApiKeys||[],totalApiKeys:p.totalApiKeys||0})}catch(r){console.error("åŠ è½½API Keysè¶‹åŠ¿å¤±è´¥:",r)}}async function Q(d=ft.value,h=null){const g=h||Y();try{let r="/admin/account-usage-trend?",b=7;if(g==="hour")if(r+="granularity=hour",o.value.customRange&&o.value.customRange.length===2)r+=`&startDate=${encodeURIComponent(o.value.customRange[0])}`,r+=`&endDate=${encodeURIComponent(o.value.customRange[1])}`;else{const u=new Date;let n,m;if(o.value.type==="preset")switch(o.value.preset){case"today":{n=w(u,!0),m=w(u,!1);break}case"last24h":{m=new Date(u),n=new Date(u.getTime()-24*60*60*1e3);break}case"yesterday":{const i=new Date;i.setDate(i.getDate()-1),n=w(i,!0),m=w(i,!1);break}case"dayBefore":{const i=new Date;i.setDate(i.getDate()-2),n=w(i,!0),m=w(i,!1);break}default:n=new Date(u.getTime()-24*60*60*1e3),m=u}else n=new Date(u.getTime()-24*60*60*1e3),m=u;r+=`&startDate=${encodeURIComponent(n.toISOString())}`,r+=`&endDate=${encodeURIComponent(m.toISOString())}`}else b=o.value.type==="preset"?o.value.preset==="today"?1:o.value.preset==="7days"?7:30:At(o.value.customStart,o.value.customEnd),r+=`granularity=day&days=${b}`;r+=`&group=${d}`;const p=await it.get(r);p.success&&(_t.value={data:p.data||[],topAccounts:p.topAccounts||[],totalAccounts:p.totalAccounts||0,group:p.group||d,groupLabel:p.groupLabel||""})}catch(r){console.error("åŠ è½½è´¦å·ä½¿ç”¨è¶‹åŠ¿å¤±è´¥:",r)}}function dt(d,h={}){const{silent:g=!1,skipSave:r=!1}=h,b=q(d,L.value);o.value.type="preset",o.value.preset=b;const p=o.value.presetOptions.find(f=>f.value===b),u=new Date;let n,m;if(L.value==="hour")switch(b){case"today":{n=w(u,!0),m=w(u,!1);break}case"last24h":{m=new Date(u),n=new Date(u.getTime()-24*60*60*1e3);break}case"yesterday":{const f=new Date;f.setDate(f.getDate()-1),n=w(f,!0),m=w(f,!1);break}case"dayBefore":{const f=new Date;f.setDate(f.getDate()-2),n=w(f,!0),m=w(f,!1);break}default:m=new Date(u),n=new Date(u.getTime()-24*60*60*1e3)}else n=new Date(u),m=new Date(u),b==="today"?(n.setHours(0,0,0,0),m.setHours(23,59,59,999)):p!=null&&p.days&&(n.setDate(u.getDate()-(p.days-1)),n.setHours(0,0,0,0),m.setHours(23,59,59,999));const i=f=>{const S=new Date(f),z=S.getFullYear(),ut=String(S.getMonth()+1).padStart(2,"0"),W=String(S.getDate()).padStart(2,"0"),rt=String(S.getHours()).padStart(2,"0"),G=String(S.getMinutes()).padStart(2,"0"),nt=String(S.getSeconds()).padStart(2,"0");return`${z}-${ut}-${W} ${rt}:${G}:${nt}`};o.value.customStart=n?n.toISOString().split("T")[0]:"",o.value.customEnd=m?m.toISOString().split("T")[0]:"",o.value.customRange=n&&m?[i(n),i(m)]:null,r||et(o.value.preset,L.value),g||H()}function St(d){if(d&&d.length===2){o.value.type="custom",o.value.preset="",o.value.customRange=d,o.value.customStart=d[0].split(" ")[0],o.value.customEnd=d[1].split(" ")[0];const h=b=>{const[p,u]=b.split(" "),[n,m,i]=p.split("-").map(Number),[f,S,z]=u.split(":").map(Number);return new Date(n,m-1,i,f,S,z)},g=h(d[0]),r=h(d[1]);if(L.value==="hour"){if((r-g)/36e5>24){Ot("å°æ—¶ç²’åº¦ä¸‹æ—¥æœŸèŒƒå›´ä¸èƒ½è¶…è¿‡24å°æ—¶","warning");return}}else if(Math.ceil((r-g)/864e5)+1>31){Ot("æ—¥æœŸèŒƒå›´ä¸èƒ½è¶…è¿‡ 31 å¤©","warning");return}H()}else d===null&&dt(L.value==="hour"?"last24h":O)}function ct(d,h={}){const{silent:g=!1,skipSave:r=!1,presetOverride:b}=h;if(L.value=d,d==="hour"){if(o.value.presetOptions=xt("hour"),o.value.type==="custom"&&o.value.customRange&&o.value.customRange.length===2){const u=new Date(o.value.customRange[0]);if((new Date(o.value.customRange[1])-u)/(1e3*60*60)>24){Ot("å°æ—¶ç²’åº¦ä¸‹æ—¥æœŸèŒƒå›´ä¸èƒ½è¶…è¿‡24å°æ—¶ï¼Œå·²åˆ‡æ¢åˆ°è¿‘24å°æ—¶","warning"),dt("last24h",{silent:g,skipSave:r});return}}}else o.value.presetOptions=xt("day");if(o.value.type==="custom"){r||et(o.value.preset||O,L.value),g||H();return}const p=b||q(o.value.preset,L.value);dt(p,{silent:!0,skipSave:!0}),r||et(o.value.preset,L.value),g||H()}async function H(){let d,h="monthly";const g=Y();if(o.value.type==="preset"){const r=o.value.presetOptions.find(b=>b.value===o.value.preset);g==="hour"?(d=1,h="daily"):(d=r?r.days:7,o.value.preset==="today"?h="daily":h="monthly")}else{if(g==="hour"){const r=new Date(o.value.customRange[0]),b=new Date(o.value.customRange[1]),p=Math.ceil((b-r)/(1e3*60*60));d=Math.ceil(p/24)||1}else d=At(o.value.customStart,o.value.customEnd);h="daily"}await Promise.all([at(d,g),st(h,g),ot(Ct.value,g),Q(ft.value,g)])}function Bt(d){return ft.value=d,Q(d,Y())}function At(d,h){if(!d||!h)return 7;const g=new Date(d),r=new Date(h),b=Math.abs(r-g);return Math.ceil(b/(1e3*60*60*24))||7}function $t(d){return d>new Date}return dt(o.value.preset,{silent:!0,skipSave:!0}),et(o.value.preset,L.value),{loading:Rt,dashboardData:pt,costsData:yt,modelStats:gt,trendData:s,dashboardModelStats:kt,apiKeysTrendData:J,accountUsageTrendData:_t,dateFilter:o,trendGranularity:L,apiKeysTrendMetric:Ct,accountUsageGroup:ft,defaultTime:jt,formattedUptime:Et,loadDashboardData:Tt,loadUsageTrend:at,loadModelStats:st,loadApiKeysTrend:ot,loadAccountUsageTrend:Q,setDateFilterPreset:dt,onCustomDateRangeChange:St,setTrendGranularity:ct,refreshChartsData:H,setAccountUsageGroup:Bt,disabledDate:$t}}),de={class:"mb-4 grid grid-cols-1 gap-3 sm:mb-6 sm:grid-cols-2 sm:gap-4 md:mb-8 md:gap-6 lg:grid-cols-4"},ce={class:"stat-card"},ue={class:"flex items-center justify-between"},me={class:"text-2xl font-bold text-gray-900 dark:text-gray-100 sm:text-3xl"},pe={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},ye={class:"stat-card"},ge={class:"flex items-center justify-between"},xe={class:"flex-1"},fe={class:"flex flex-wrap items-baseline gap-x-2"},be={class:"text-2xl font-bold text-gray-900 dark:text-gray-100 sm:text-3xl"},ve={key:0,class:"flex items-center gap-2"},he=["title"],ke={class:"text-xs font-medium text-gray-700 dark:text-gray-300"},_e=["title"],we={class:"text-xs font-medium text-gray-700 dark:text-gray-300"},De=["title"],Ce={class:"text-xs font-medium text-gray-700 dark:text-gray-300"},Te=["title"],Se={class:"text-xs font-medium text-gray-700 dark:text-gray-300"},Ae=["title"],$e={class:"text-xs font-medium text-gray-700 dark:text-gray-300"},Ie=["title"],Re={class:"text-xs font-medium text-gray-700 dark:text-gray-300"},Pe=["title"],Be={class:"text-xs font-medium text-gray-700 dark:text-gray-300"},Ue={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},Me={key:0,class:"text-red-600"},Fe={key:1,class:"text-gray-600 dark:text-gray-400"},Ke={key:2,class:"text-yellow-600"},Oe={class:"stat-card"},Le={class:"flex items-center justify-between"},je={class:"text-2xl font-bold text-gray-900 dark:text-gray-100 sm:text-3xl"},Ee={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},ze={class:"stat-card"},qe={class:"flex items-center justify-between"},Ge={class:"text-2xl font-bold text-green-600 sm:text-3xl"},Ne={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},He={class:"mb-4 sm:mb-6 md:mb-8"},Ve={class:"card p-4 sm:p-6"},Ye={class:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between"},We={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},Ze={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},Qe={class:"text-xs text-gray-500 dark:text-gray-400"},Xe={class:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-3"},Je={class:"rounded-lg border border-gray-200 bg-gray-50 px-3 py-2 dark:border-gray-700 dark:bg-gray-800/60"},ta={class:"mt-1 text-lg font-semibold text-gray-900 dark:text-gray-100"},ea={class:"rounded-lg border border-gray-200 bg-gray-50 px-3 py-2 dark:border-gray-700 dark:bg-gray-800/60"},aa={class:"mt-1 text-lg font-semibold text-gray-900 dark:text-gray-100"},sa={class:"rounded-lg border border-gray-200 bg-gray-50 px-3 py-2 dark:border-gray-700 dark:bg-gray-800/60"},oa={class:"mt-1 text-lg font-semibold text-gray-900 dark:text-gray-100"},ra={class:"mt-3 text-xs text-gray-500 dark:text-gray-400"},na={class:"mb-4 grid grid-cols-1 gap-3 sm:mb-6 sm:grid-cols-2 sm:gap-4 md:mb-8 md:gap-6"},la={class:"stat-card"},ia={class:"flex items-center justify-between"},da={class:"text-2xl font-bold text-gray-900 dark:text-gray-100 sm:text-3xl"},ca={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},ua={class:"mt-3 flex items-center justify-between gap-3"},ma={class:"text-xs text-gray-500 dark:text-gray-400"},pa=["disabled"],ya={class:"card p-4 sm:p-6"},ga={class:"mb-3 flex items-center justify-between"},xa={class:"text-xs text-gray-500 dark:text-gray-400"},fa={key:0,class:"py-6 text-center text-sm text-gray-500 dark:text-gray-400"},ba={key:1,class:"py-6 text-center text-sm text-green-600 dark:text-green-400"},va={key:2,class:"max-h-64 space-y-2 overflow-y-auto"},ha={class:"flex items-center justify-between gap-2"},ka={class:"truncate text-sm font-medium text-gray-900 dark:text-gray-100"},_a={class:"rounded bg-gray-100 px-2 py-0.5 text-xs text-gray-600 dark:bg-gray-700 dark:text-gray-300"},wa={class:"mt-1 text-xs text-gray-600 dark:text-gray-400"},Da={key:0},Ca={key:1},Ta={key:0,class:"mt-2"},Sa={class:"mb-1 flex items-center justify-between text-xs text-gray-600 dark:text-gray-400"},Aa={class:"text-red-600 dark:text-red-400"},$a={class:"h-2 w-full rounded-full bg-gray-200 dark:bg-gray-700"},Ia={class:"mb-4 grid grid-cols-1 gap-3 sm:mb-6 sm:grid-cols-2 sm:gap-4 md:mb-8 md:gap-6 lg:grid-cols-4"},Ra={class:"stat-card"},Pa={class:"flex items-center justify-between"},Ba={class:"mr-8 flex-1"},Ua={class:"mb-2 flex flex-wrap items-baseline gap-2"},Ma={class:"text-xl font-bold text-blue-600 sm:text-2xl md:text-3xl"},Fa={class:"text-sm font-medium text-green-600"},Ka={class:"text-xs text-gray-500 dark:text-gray-400"},Oa={class:"flex flex-wrap items-center justify-between gap-x-4"},La={class:"font-medium"},ja={class:"font-medium"},Ea={key:0,class:"text-purple-600"},za={class:"font-medium"},qa={key:1,class:"text-purple-600"},Ga={class:"font-medium"},Na={class:"stat-card"},Ha={class:"flex items-center justify-between"},Va={class:"mr-8 flex-1"},Ya={class:"mb-2 flex flex-wrap items-baseline gap-2"},Wa={class:"text-xl font-bold text-emerald-600 sm:text-2xl md:text-3xl"},Za={class:"text-sm font-medium text-green-600"},Qa={class:"text-xs text-gray-500 dark:text-gray-400"},Xa={class:"flex flex-wrap items-center justify-between gap-x-4"},Ja={class:"font-medium"},ts={class:"font-medium"},es={key:0,class:"text-purple-600"},as={class:"font-medium"},ss={key:1,class:"text-purple-600"},os={class:"font-medium"},rs={class:"stat-card"},ns={class:"flex items-center justify-between"},ls={class:"mb-1 text-xs font-semibold text-gray-600 dark:text-gray-400 sm:text-sm"},is={class:"text-xs text-gray-400"},ds={class:"text-2xl font-bold text-orange-600 sm:text-3xl"},cs={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},us={key:0,class:"text-yellow-600"},ms={class:"stat-card"},ps={class:"flex items-center justify-between"},ys={class:"mb-1 text-xs font-semibold text-gray-600 dark:text-gray-400 sm:text-sm"},gs={class:"text-xs text-gray-400"},xs={class:"text-2xl font-bold text-rose-600 sm:text-3xl"},fs={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},bs={key:0,class:"text-yellow-600"},vs={class:"mb-8"},hs={class:"mb-4 flex flex-col gap-4 sm:mb-6"},ks={class:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-end"},_s={class:"flex flex-shrink-0 gap-1 overflow-x-auto rounded-lg bg-gray-100 p-1 dark:bg-gray-700"},ws=["onClick"],Ds={class:"flex gap-1 rounded-lg bg-gray-100 p-1 dark:bg-gray-700"},Cs={class:"flex items-center gap-2"},Ts={key:0,class:"text-xs text-orange-600"},Ss={class:"flex items-center gap-2"},As={class:"flex items-center rounded-lg bg-gray-100 px-3 py-1 dark:bg-gray-700"},$s={class:"relative inline-flex cursor-pointer items-center"},Is={class:"ml-2.5 flex select-none items-center gap-1 text-sm font-medium text-gray-600 dark:text-gray-300"},Rs=["disabled"],Ps={class:"hidden sm:inline"},Bs={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},Us={class:"card p-4 sm:p-6"},Ms={class:"relative",style:{height:"250px"}},Fs={class:"card p-4 sm:p-6"},Ks={key:0,class:"py-8 text-center"},Os={key:1,class:"max-h-[250px] overflow-auto sm:max-h-[300px]"},Ls={class:"min-w-full"},js={class:"divide-y divide-gray-200 dark:divide-gray-600"},Es={class:"px-2 py-2 text-xs text-gray-900 dark:text-gray-100 sm:px-4 sm:text-sm"},zs=["title"],qs={class:"hidden px-2 py-2 text-right text-xs text-gray-600 dark:text-gray-400 sm:table-cell sm:px-4 sm:text-sm"},Gs={class:"px-2 py-2 text-right text-xs text-gray-600 dark:text-gray-400 sm:px-4 sm:text-sm"},Ns={class:"px-2 py-2 text-right text-xs font-medium text-green-600 sm:px-4 sm:text-sm"},Hs={class:"hidden px-2 py-2 text-right text-xs font-medium sm:table-cell sm:px-4 sm:text-sm"},Vs={class:"inline-flex items-center rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"},Ys={class:"mb-4 sm:mb-6 md:mb-8"},Ws={class:"card p-4 sm:p-6"},Zs={class:"sm:h-[300px]",style:{height:"250px"}},Qs={class:"mb-4 sm:mb-6 md:mb-8"},Xs={class:"card p-4 sm:p-6"},Js={class:"mb-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},to={class:"flex gap-1 rounded-lg bg-gray-100 p-1 dark:bg-gray-700"},eo={class:"mb-4 text-xs text-gray-600 dark:text-gray-400 sm:text-sm"},ao={key:0},so={key:1},oo={class:"sm:h-[350px]",style:{height:"300px"}},ro={class:"mb-4 sm:mb-6 md:mb-8"},no={class:"card p-4 sm:p-6"},lo={class:"mb-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},io={class:"flex flex-col gap-1 sm:flex-row sm:items-center sm:gap-3"},co={class:"text-xs text-gray-500 dark:text-gray-400 sm:text-sm"},uo={class:"flex flex-wrap items-center gap-2"},mo={class:"flex gap-1 rounded-lg bg-gray-100 p-1 dark:bg-gray-700"},po=["onClick"],yo={class:"mb-4 flex flex-wrap items-center gap-2 text-xs text-gray-600 dark:text-gray-400 sm:text-sm"},go={key:0},xo={key:0,class:"py-12 text-center text-sm text-gray-500 dark:text-gray-400"},fo={key:1,class:"sm:h-[350px]",style:{height:"300px"}},bo={__name:"DashboardView",setup(Rt){const pt=ie(),yt=le(),{isDarkMode:gt}=Yt(yt),{dashboardData:s,costsData:kt,dashboardModelStats:J,trendData:_t,apiKeysTrendData:j,accountUsageTrendData:O,accountUsageGroup:wt,formattedUptime:xt,dateFilter:tt,trendGranularity:Z,apiKeysTrendMetric:q,defaultTime:Pt}=Yt(pt),{loadDashboardData:Dt,loadApiKeysTrend:Lt,setDateFilterPreset:o,onCustomDateRangeChange:L,setTrendGranularity:Ct,refreshChartsData:ft,setAccountUsageGroup:jt,disabledDate:Et}=pt,w=$(null),et=$(null),Y=$(null),Tt=$(null);let at=null,st=null,ot=null,Q=null;const dt=[{value:"claude",label:"Claude"},{value:"openai",label:"OpenAI"},{value:"gemini",label:"Gemini"},{value:"droid",label:"Droid"}],St=$(!1),ct=$({totalBalance:0,totalCost:0,lowBalanceCount:0,platforms:{}}),H=$(!1),Bt=$(null),At=c=>({claude:"Claude","claude-console":"Claude Console",gemini:"Gemini","gemini-api":"Gemini API",openai:"OpenAI","openai-responses":"OpenAI Responses",azure_openai:"Azure OpenAI",bedrock:"Bedrock",droid:"Droid",ccr:"CCR"})[c]||c,$t=Gt(()=>{var C;const c=[],e=((C=ct.value)==null?void 0:C.platforms)||{};return Object.entries(e).forEach(([M,F])=>{(Array.isArray(F==null?void 0:F.accounts)?F.accounts:[]).forEach(y=>{var T,D;const P=y==null?void 0:y.data;if(!P)return;const A=(T=P.balance)==null?void 0:T.amount,B=(D=P.quota)==null?void 0:D.percentage,v=typeof A=="number"&&A<10,x=typeof B=="number"&&B>90;(v||x)&&c.push({...P,name:(y==null?void 0:y.name)||P.accountId,platform:P.platform||M})})}),c}),d=c=>{const e=Number(c);return Number.isFinite(e)?e>=1?`$${e.toFixed(2)}`:e>=.01?`$${e.toFixed(3)}`:`$${e.toFixed(6)}`:"$0.00"},h=c=>{if(!c)return"æœªçŸ¥";const e=new Date(c);return Number.isNaN(e.getTime())?"æœªçŸ¥":e.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})},g=async()=>{H.value=!0;try{const c=await it.get("/admin/accounts/balance/summary");c!=null&&c.success&&(ct.value=c.data||{totalBalance:0,totalCost:0,lowBalanceCount:0,platforms:{}},Bt.value=new Date().toISOString())}catch(c){console.debug("åŠ è½½ä½™é¢æ±‡æ€»å¤±è´¥:",c),Ot("åŠ è½½ä½™é¢æ±‡æ€»å¤±è´¥","error")}finally{H.value=!1}},r=$(!1),b=$(30),p=$(null),u=$(0),n=$(null),m=$(!1),i=Gt(()=>({text:gt.value?"#e5e7eb":"#374151",grid:gt.value?"rgba(75, 85, 99, 0.3)":"rgba(0, 0, 0, 0.1)",legend:gt.value?"#e5e7eb":"#374151"}));function f(c){return c>=1e6?(c/1e6).toFixed(2)+"M":c>=1e3?(c/1e3).toFixed(2)+"K":c.toString()}function S(c){if(!c||typeof c!="object")return"none";const e=Object.entries(c).filter(([,C])=>Number(C)>0).sort((C,M)=>Number(M[1])-Number(C[1])).map(([C,M])=>`${C}: ${f(Number(M)||0)}`);return e.length>0?e.join(" | "):"none"}function z(c){return Number.isFinite(c)?c>=1?`$${c.toFixed(2)}`:c>=.01?`$${c.toFixed(3)}`:`$${c.toFixed(6)}`:"$0.000000"}function ut(c,e){if(!e||e.length===0)return 0;const C=e.reduce((M,F)=>M+F.allTokens,0);return C===0?0:(c/C*100).toFixed(1)}function W(){if(!w.value)return;at&&at.destroy();const c=J.value||[],e={labels:c.map(C=>C.model),datasets:[{data:c.map(C=>C.allTokens),backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#84CC16"],borderWidth:0}]};at=new Kt(w.value,{type:"doughnut",data:e,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,usePointStyle:!0,font:{size:12},color:i.value.legend}},tooltip:{callbacks:{label:function(C){const M=C.label||"",F=f(C.parsed),V=ut(C.parsed,c);return`${M}: ${F} (${V}%)`}}}}}})}function rt(){var v;if(!et.value)return;st&&st.destroy();const c=_t.value||[],e=c.map(x=>x.inputTokens||0),C=c.map(x=>x.outputTokens||0),M=c.map(x=>x.cacheCreateTokens||0),F=c.map(x=>x.cacheReadTokens||0),V=c.map(x=>x.requests||0),y=c.map(x=>x.cost||0),P=(v=c[0])!=null&&v.date?"date":"hour",B={labels:c.map(x=>{if(x.label)return x.label;if(P==="hour"){const D=new Date(x.hour),I=String(D.getMonth()+1).padStart(2,"0"),N=String(D.getDate()).padStart(2,"0"),E=String(D.getHours()).padStart(2,"0");return`${I}/${N} ${E}:00`}const T=x.date;if(T&&T.includes("-")){const D=T.split("-");if(D.length>=3)return`${D[1]}/${D[2]}`}return x.date}),datasets:[{label:"è¾“å…¥Token",data:e,borderColor:"rgb(102, 126, 234)",backgroundColor:"rgba(102, 126, 234, 0.1)",tension:.3},{label:"è¾“å‡ºToken",data:C,borderColor:"rgb(240, 147, 251)",backgroundColor:"rgba(240, 147, 251, 0.1)",tension:.3},{label:"ç¼“å­˜åˆ›å»ºToken",data:M,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.3},{label:"ç¼“å­˜è¯»å–Token",data:F,borderColor:"rgb(147, 51, 234)",backgroundColor:"rgba(147, 51, 234, 0.1)",tension:.3},{label:"è´¹ç”¨ (USD)",data:y,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.3,yAxisID:"y2"},{label:"è¯·æ±‚æ•°",data:V,borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.3,yAxisID:"y1"}]};st=new Kt(et.value,{type:"line",data:B,options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{title:{display:!0,text:"Tokenä½¿ç”¨è¶‹åŠ¿",font:{size:16,weight:"bold"},color:i.value.text},legend:{position:"top",labels:{color:i.value.legend}},tooltip:{mode:"index",intersect:!1,itemSort:function(x,T){const D=x.dataset.label||"",I=T.dataset.label||"";return D==="è´¹ç”¨ (USD)"||I==="è´¹ç”¨ (USD)"?D==="è´¹ç”¨ (USD)"?-1:1:D==="è¯·æ±‚æ•°"||I==="è¯·æ±‚æ•°"?D==="è¯·æ±‚æ•°"?1:-1:T.parsed.y-x.parsed.y},callbacks:{label:function(x){const T=x.dataset.label||"";let D=x.parsed.y;return T==="è´¹ç”¨ (USD)"?D<.01?T+": $"+D.toFixed(6):T+": $"+D.toFixed(4):T==="è¯·æ±‚æ•°"?T+": "+D.toLocaleString()+" æ¬¡":D>=1e6?T+": "+(D/1e6).toFixed(2)+"M tokens":D>=1e3?T+": "+(D/1e3).toFixed(2)+"K tokens":T+": "+D.toLocaleString()+" tokens"}}}},scales:{x:{type:"category",display:!0,title:{display:!0,text:Z==="hour"?"æ—¶é—´":"æ—¥æœŸ",color:i.value.text},ticks:{color:i.value.text},grid:{color:i.value.grid}},y:{type:"linear",display:!0,position:"left",min:0,title:{display:!0,text:"Tokenæ•°é‡",color:i.value.text},ticks:{callback:function(x){return f(x)},color:i.value.text},grid:{color:i.value.grid}},y1:{type:"linear",display:!0,position:"right",min:0,title:{display:!0,text:"è¯·æ±‚æ•°",color:i.value.text},grid:{drawOnChartArea:!1},ticks:{callback:function(x){return x.toLocaleString()},color:i.value.text}},y2:{type:"linear",display:!1,position:"right",min:0}}}})}function G(){var y,P;if(!Y.value)return;ot&&ot.destroy();const c=j.value.data||[],e=q.value,C=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#84CC16"],M=((y=j.value.topApiKeys)==null?void 0:y.map((A,B)=>{var T,D;const v=j.value.data.map(I=>!I.apiKeys||!I.apiKeys[A]?0:e==="tokens"?I.apiKeys[A].tokens:I.apiKeys[A].requests||0);return{label:((D=(T=j.value.data.find(I=>I.apiKeys&&I.apiKeys[A]))==null?void 0:T.apiKeys[A])==null?void 0:D.name)||`API Key ${A}`,data:v,borderColor:C[B%C.length],backgroundColor:C[B%C.length]+"20",tension:.4,fill:!1}}))||[],F=(P=c[0])!=null&&P.date?"date":"hour",V={labels:c.map(A=>{if(A.label)return A.label;if(F==="hour"){const v=new Date(A.hour),x=String(v.getMonth()+1).padStart(2,"0"),T=String(v.getDate()).padStart(2,"0"),D=String(v.getHours()).padStart(2,"0");return`${x}/${T} ${D}:00`}const B=A.date;if(B&&B.includes("-")){const v=B.split("-");if(v.length>=3)return`${v[1]}/${v[2]}`}return A.date}),datasets:M};ot=new Kt(Y.value,{type:"line",data:V,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:12},color:i.value.legend}},tooltip:{mode:"index",intersect:!1,itemSort:function(A,B){return B.parsed.y-A.parsed.y},callbacks:{label:function(A){var E;const B=A.dataset.label||"",v=A.parsed.y,x=A.dataIndex,T=j.value.data[x],I=A.chart.data.datasets.map((K,bt)=>({value:K.data[x]||0,index:bt})).sort((K,bt)=>bt.value-K.value).findIndex(K=>K.index===A.datasetIndex)+1;let N="";if(I===1?N="ğŸ¥‡ ":I===2?N="ğŸ¥ˆ ":I===3&&(N="ğŸ¥‰ "),q.value==="tokens"){let K="";v>=1e6?K=(v/1e6).toFixed(2)+"M":v>=1e3?K=(v/1e3).toFixed(2)+"K":K=v.toLocaleString();const bt=j.value.topApiKeys[A.datasetIndex],mt=(E=T==null?void 0:T.apiKeys)==null?void 0:E[bt],vt=(mt==null?void 0:mt.formattedCost)||"$0.00";return`${N}${B}: ${K} tokens (${vt})`}else return`${N}${B}: ${v.toLocaleString()} æ¬¡`}}}},scales:{x:{type:"category",display:!0,title:{display:!0,text:Z==="hour"?"æ—¶é—´":"æ—¥æœŸ",color:i.value.text},ticks:{color:i.value.text},grid:{color:i.value.grid}},y:{beginAtZero:!0,min:0,title:{display:!0,text:q.value==="tokens"?"Token æ•°é‡":"è¯·æ±‚æ¬¡æ•°",color:i.value.text},ticks:{callback:function(A){return f(A)},color:i.value.text},grid:{color:i.value.grid}}}}})}async function nt(){await Lt(q.value),await lt(),G()}function Ut(){var P,A,B;if(!Tt.value)return;Q&&Q.destroy();const c=((P=O.value)==null?void 0:P.data)||[],e=((A=O.value)==null?void 0:A.topAccounts)||[],C=["#2563EB","#059669","#D97706","#DC2626","#7C3AED","#F472B6","#0EA5E9","#F97316","#6366F1","#22C55E"],M=e.map((v,x)=>{var I,N;const T=c.map(E=>!E.accounts||!E.accounts[v]?0:E.accounts[v].cost||0);return{label:((N=(I=c.find(E=>E.accounts&&E.accounts[v]))==null?void 0:I.accounts[v])==null?void 0:N.name)||`è´¦å· ${String(v).slice(0,6)}`,data:T,borderColor:C[x%C.length],backgroundColor:C[x%C.length]+"20",tension:.4,fill:!1}}),F=(B=c[0])!=null&&B.date?"date":"hour",V={labels:c.map(v=>{if(v.label)return v.label;if(F==="hour"){const x=new Date(v.hour),T=String(x.getMonth()+1).padStart(2,"0"),D=String(x.getDate()).padStart(2,"0"),I=String(x.getHours()).padStart(2,"0");return`${T}/${D} ${I}:00`}if(v.date&&v.date.includes("-")){const x=v.date.split("-");if(x.length>=3)return`${x[1]}/${x[2]}`}return v.date}),datasets:M},y=e;Q=new Kt(Tt.value,{type:"line",data:V,options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:12},color:i.value.legend}},tooltip:{mode:"index",intersect:!1,itemSort:(v,x)=>x.parsed.y-v.parsed.y,callbacks:{label:function(v){var Vt;const x=v.dataset.label||"",T=v.parsed.y||0,D=v.dataIndex,I=v.datasetIndex,N=y[I],E=O.value.data[D],K=(Vt=E==null?void 0:E.accounts)==null?void 0:Vt[N],mt=v.chart.data.datasets.map((It,qt)=>({value:It.data[D]||0,index:qt})).sort((It,qt)=>qt.value-It.value).findIndex(It=>It.index===I)+1;let vt="";mt===1?vt="ğŸ¥‡ ":mt===2?vt="ğŸ¥ˆ ":mt===3&&(vt="ğŸ¥‰ ");const Zt=(K==null?void 0:K.formattedCost)||z(T),Qt=(K==null?void 0:K.requests)||0;return`${vt}${x}: ${Zt} / ${Qt.toLocaleString()} æ¬¡`}}}},scales:{x:{type:"category",display:!0,title:{display:!0,text:Z.value==="hour"?"æ—¶é—´":"æ—¥æœŸ",color:i.value.text},ticks:{color:i.value.text},grid:{color:i.value.grid}},y:{beginAtZero:!0,min:0,title:{display:!0,text:"æ¶ˆè€—é‡‘é¢ (USD)",color:i.value.text},ticks:{callback:v=>z(Number(v)),color:i.value.text},grid:{color:i.value.grid}}}}})}async function Wt(c){if(!(wt.value===c||St.value)){St.value=!0;try{await jt(c),await lt(),Ut()}finally{St.value=!1}}}ht(J,()=>{lt(()=>W())}),ht(_t,()=>{lt(()=>rt())}),ht(j,()=>{lt(()=>G())}),ht(O,()=>{lt(()=>Ut())});async function zt(){if(!m.value){m.value=!0;try{await Promise.all([Dt(),ft(),g()])}finally{m.value=!1}}}function Nt(){r.value&&(u.value=b.value,n.value&&clearInterval(n.value),p.value&&clearTimeout(p.value),n.value=setInterval(()=>{u.value--,u.value<=0&&clearInterval(n.value)},1e3),p.value=setTimeout(async()=>{await zt(),r.value&&Nt()},b.value*1e3))}function Ht(){n.value&&(clearInterval(n.value),n.value=null),p.value&&(clearTimeout(p.value),p.value=null),u.value=0}return ht(r,c=>{c?Nt():Ht()}),ht(gt,()=>{lt(()=>{W(),rt(),G(),Ut()})}),te(async()=>{await zt(),await lt(),W(),rt(),G(),Ut()}),ee(()=>{Ht(),at&&at.destroy(),st&&st.destroy(),ot&&ot.destroy(),Q&&Q.destroy()}),(c,e)=>{var M,F,V;const C=Xt;return _(),k("div",null,[t("div",de,[t("div",ce,[t("div",ue,[t("div",null,[e[7]||(e[7]=t("p",{class:"mb-1 text-xs font-semibold text-gray-600 dark:text-gray-400 sm:text-sm"}," æ€»API Keys ",-1)),t("p",me,l(a(s).totalApiKeys),1),t("p",pe," æ´»è·ƒ: "+l(a(s).activeApiKeys||0),1)]),e[8]||(e[8]=t("div",{class:"stat-icon flex-shrink-0 bg-gradient-to-br from-blue-500 to-blue-600"},[t("i",{class:"fas fa-key"})],-1))])]),t("div",ye,[t("div",ge,[t("div",xe,[e[16]||(e[16]=t("p",{class:"mb-1 text-xs font-semibold text-gray-600 dark:text-gray-400 sm:text-sm"}," æœåŠ¡è´¦æˆ· ",-1)),t("div",fe,[t("p",be,l(a(s).totalAccounts),1),a(s).accountsByPlatform?(_(),k("div",ve,[a(s).accountsByPlatform.claude&&a(s).accountsByPlatform.claude.total>0?(_(),k("div",{key:0,class:"inline-flex items-center gap-0.5",title:`Claude: ${a(s).accountsByPlatform.claude.total} ä¸ª (æ­£å¸¸: ${a(s).accountsByPlatform.claude.normal})`},[e[9]||(e[9]=t("i",{class:"fas fa-brain text-xs text-indigo-600"},null,-1)),t("span",ke,l(a(s).accountsByPlatform.claude.total),1)],8,he)):R("",!0),a(s).accountsByPlatform["claude-console"]&&a(s).accountsByPlatform["claude-console"].total>0?(_(),k("div",{key:1,class:"inline-flex items-center gap-0.5",title:`Console: ${a(s).accountsByPlatform["claude-console"].total} ä¸ª (æ­£å¸¸: ${a(s).accountsByPlatform["claude-console"].normal})`},[e[10]||(e[10]=t("i",{class:"fas fa-terminal text-xs text-purple-600"},null,-1)),t("span",we,l(a(s).accountsByPlatform["claude-console"].total),1)],8,_e)):R("",!0),a(s).accountsByPlatform.gemini&&a(s).accountsByPlatform.gemini.total>0?(_(),k("div",{key:2,class:"inline-flex items-center gap-0.5",title:`Gemini: ${a(s).accountsByPlatform.gemini.total} ä¸ª (æ­£å¸¸: ${a(s).accountsByPlatform.gemini.normal})`},[e[11]||(e[11]=t("i",{class:"fas fa-robot text-xs text-yellow-600"},null,-1)),t("span",Ce,l(a(s).accountsByPlatform.gemini.total),1)],8,De)):R("",!0),a(s).accountsByPlatform.bedrock&&a(s).accountsByPlatform.bedrock.total>0?(_(),k("div",{key:3,class:"inline-flex items-center gap-0.5",title:`Bedrock: ${a(s).accountsByPlatform.bedrock.total} ä¸ª (æ­£å¸¸: ${a(s).accountsByPlatform.bedrock.normal})`},[e[12]||(e[12]=t("i",{class:"fab fa-aws text-xs text-orange-600"},null,-1)),t("span",Se,l(a(s).accountsByPlatform.bedrock.total),1)],8,Te)):R("",!0),a(s).accountsByPlatform.openai&&a(s).accountsByPlatform.openai.total>0?(_(),k("div",{key:4,class:"inline-flex items-center gap-0.5",title:`OpenAI: ${a(s).accountsByPlatform.openai.total} ä¸ª (æ­£å¸¸: ${a(s).accountsByPlatform.openai.normal})`},[e[13]||(e[13]=t("i",{class:"fas fa-openai text-xs text-gray-100"},null,-1)),t("span",$e,l(a(s).accountsByPlatform.openai.total),1)],8,Ae)):R("",!0),a(s).accountsByPlatform.azure_openai&&a(s).accountsByPlatform.azure_openai.total>0?(_(),k("div",{key:5,class:"inline-flex items-center gap-0.5",title:`Azure OpenAI: ${a(s).accountsByPlatform.azure_openai.total} ä¸ª (æ­£å¸¸: ${a(s).accountsByPlatform.azure_openai.normal})`},[e[14]||(e[14]=t("i",{class:"fab fa-microsoft text-xs text-blue-600"},null,-1)),t("span",Re,l(a(s).accountsByPlatform.azure_openai.total),1)],8,Ie)):R("",!0),a(s).accountsByPlatform["openai-responses"]&&a(s).accountsByPlatform["openai-responses"].total>0?(_(),k("div",{key:6,class:"inline-flex items-center gap-0.5",title:`OpenAI Responses: ${a(s).accountsByPlatform["openai-responses"].total} ä¸ª (æ­£å¸¸: ${a(s).accountsByPlatform["openai-responses"].normal})`},[e[15]||(e[15]=t("i",{class:"fas fa-server text-xs text-cyan-600"},null,-1)),t("span",Be,l(a(s).accountsByPlatform["openai-responses"].total),1)],8,Pe)):R("",!0)])):R("",!0)]),t("p",Ue,[U(" æ­£å¸¸: "+l(a(s).normalAccounts||0)+" ",1),a(s).abnormalAccounts>0?(_(),k("span",Me," | å¼‚å¸¸: "+l(a(s).abnormalAccounts),1)):R("",!0),a(s).pausedAccounts>0?(_(),k("span",Fe," | åœæ­¢è°ƒåº¦: "+l(a(s).pausedAccounts),1)):R("",!0),a(s).rateLimitedAccounts>0?(_(),k("span",Ke," | é™æµ: "+l(a(s).rateLimitedAccounts),1)):R("",!0)])]),e[17]||(e[17]=t("div",{class:"stat-icon ml-2 flex-shrink-0 bg-gradient-to-br from-green-500 to-green-600"},[t("i",{class:"fas fa-user-circle"})],-1))])]),t("div",Oe,[t("div",Le,[t("div",null,[e[18]||(e[18]=t("p",{class:"mb-1 text-xs font-semibold text-gray-600 dark:text-gray-400 sm:text-sm"}," ä»Šæ—¥è¯·æ±‚ ",-1)),t("p",je,l(a(s).todayRequests),1),t("p",Ee," æ€»è¯·æ±‚: "+l(f(a(s).totalRequests||0)),1)]),e[19]||(e[19]=t("div",{class:"stat-icon flex-shrink-0 bg-gradient-to-br from-purple-500 to-purple-600"},[t("i",{class:"fas fa-chart-line"})],-1))])]),t("div",ze,[t("div",qe,[t("div",null,[e[20]||(e[20]=t("p",{class:"mb-1 text-xs font-semibold text-gray-600 dark:text-gray-400 sm:text-sm"}," ç³»ç»ŸçŠ¶æ€ ",-1)),t("p",Ge,l(a(s).systemStatus),1),t("p",Ne," è¿è¡Œæ—¶é—´: "+l(a(xt)),1)]),e[21]||(e[21]=t("div",{class:"stat-icon flex-shrink-0 bg-gradient-to-br from-yellow-500 to-orange-500"},[t("i",{class:"fas fa-heartbeat"})],-1))])])]),t("div",He,[t("div",Ve,[t("div",Ye,[t("div",null,[t("h3",We," Recent Stream Interruptions (Last "+l(a(s).streamInterruptionStats.windowMinutes||60)+" min) ",1),t("p",Ze," Total: "+l(f(a(s).streamInterruptionStats.totalInterruptions||0)),1)]),t("p",Qe," Updated: "+l(h(a(s).streamInterruptionStats.updatedAt)),1)]),t("div",Xe,[t("div",Je,[e[22]||(e[22]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"upstream_stream_error",-1)),t("p",ta,l(f(((M=a(s).streamInterruptionStats.reasons)==null?void 0:M.upstream_stream_error)||0)),1)]),t("div",ea,[e[23]||(e[23]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"timeout",-1)),t("p",aa,l(f(((F=a(s).streamInterruptionStats.reasons)==null?void 0:F.timeout)||0)),1)]),t("div",sa,[e[24]||(e[24]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"client_abort",-1)),t("p",oa,l(f(((V=a(s).streamInterruptionStats.reasons)==null?void 0:V.client_abort)||0)),1)])]),t("p",ra," Provider breakdown: "+l(S(a(s).streamInterruptionStats.providers)),1)])]),t("div",na,[t("div",la,[t("div",ia,[t("div",null,[e[25]||(e[25]=t("p",{class:"mb-1 text-xs font-semibold text-gray-600 dark:text-gray-400 sm:text-sm"}," è´¦æˆ·ä½™é¢/é…é¢ ",-1)),t("p",da,l(d(ct.value.totalBalance||0)),1),t("p",ca," ä½ä½™é¢: "+l(ct.value.lowBalanceCount||0)+" | æ€»æˆæœ¬: "+l(d(ct.value.totalCost||0)),1)]),e[26]||(e[26]=t("div",{class:"stat-icon flex-shrink-0 bg-gradient-to-br from-emerald-500 to-green-600"},[t("i",{class:"fas fa-wallet"})],-1))]),t("div",ua,[t("p",ma," æ›´æ–°æ—¶é—´: "+l(h(Bt.value)),1),t("button",{class:"flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-1.5 text-xs font-medium text-gray-700 shadow-sm transition-all duration-200 hover:border-gray-300 hover:shadow-md disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-300 dark:hover:border-gray-500",disabled:H.value,onClick:g},[t("i",{class:X(["fas",H.value?"fa-spinner fa-spin":"fa-sync-alt"])},null,2),e[27]||(e[27]=U(" åˆ·æ–° ",-1))],8,pa)])]),t("div",ya,[t("div",ga,[e[28]||(e[28]=t("h3",{class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},"ä½ä½™é¢è´¦æˆ·",-1)),t("span",xa,l($t.value.length)+" ä¸ª ",1)]),H.value?(_(),k("div",fa," æ­£åœ¨åŠ è½½... ")):$t.value.length===0?(_(),k("div",ba," å…¨éƒ¨æ­£å¸¸ ")):(_(),k("div",va,[(_(!0),k(Mt,null,Ft($t.value,y=>{var P;return _(),k("div",{key:y.accountId,class:"rounded-lg border border-red-200 bg-red-50 p-3 dark:border-red-900/60 dark:bg-red-900/20"},[t("div",ha,[t("div",ka,l(y.name||y.accountId),1),t("span",_a,l(At(y.platform)),1)]),t("div",wa,[y.balance?(_(),k("span",Da,"ä½™é¢: "+l(y.balance.formattedAmount),1)):(_(),k("span",Ca,"ä»Šæ—¥æˆæœ¬: "+l(d(((P=y.statistics)==null?void 0:P.dailyCost)||0)),1))]),y.quota&&typeof y.quota.percentage=="number"?(_(),k("div",Ta,[t("div",Sa,[e[29]||(e[29]=t("span",null,"é…é¢ä½¿ç”¨",-1)),t("span",Aa,l(y.quota.percentage.toFixed(1))+"% ",1)]),t("div",$a,[t("div",{class:"h-2 rounded-full bg-red-500",style:re({width:`${Math.min(100,y.quota.percentage)}%`})},null,4)])])):R("",!0)])}),128))]))])]),t("div",Ia,[t("div",Ra,[t("div",Pa,[t("div",Ba,[e[34]||(e[34]=t("p",{class:"mb-1 text-xs font-semibold text-gray-600 dark:text-gray-400 sm:text-sm"}," ä»Šæ—¥Token ",-1)),t("div",Ua,[t("p",Ma,l(f((a(s).todayInputTokens||0)+(a(s).todayOutputTokens||0)+(a(s).todayCacheCreateTokens||0)+(a(s).todayCacheReadTokens||0))),1),t("span",Fa,"/ "+l(a(kt).todayCosts.formatted.totalCost),1)]),t("div",Ka,[t("div",Oa,[t("span",null,[e[30]||(e[30]=U("è¾“å…¥: ",-1)),t("span",La,l(f(a(s).todayInputTokens||0)),1)]),t("span",null,[e[31]||(e[31]=U("è¾“å‡º: ",-1)),t("span",ja,l(f(a(s).todayOutputTokens||0)),1)]),(a(s).todayCacheCreateTokens||0)>0?(_(),k("span",Ea,[e[32]||(e[32]=U("ç¼“å­˜åˆ›å»º: ",-1)),t("span",za,l(f(a(s).todayCacheCreateTokens||0)),1)])):R("",!0),(a(s).todayCacheReadTokens||0)>0?(_(),k("span",qa,[e[33]||(e[33]=U("ç¼“å­˜è¯»å–: ",-1)),t("span",Ga,l(f(a(s).todayCacheReadTokens||0)),1)])):R("",!0)])])]),e[35]||(e[35]=t("div",{class:"stat-icon flex-shrink-0 bg-gradient-to-br from-indigo-500 to-indigo-600"},[t("i",{class:"fas fa-coins"})],-1))])]),t("div",Na,[t("div",Ha,[t("div",Va,[e[40]||(e[40]=t("p",{class:"mb-1 text-xs font-semibold text-gray-600 dark:text-gray-400 sm:text-sm"}," æ€»Tokenæ¶ˆè€— ",-1)),t("div",Ya,[t("p",Wa,l(f((a(s).totalInputTokens||0)+(a(s).totalOutputTokens||0)+(a(s).totalCacheCreateTokens||0)+(a(s).totalCacheReadTokens||0))),1),t("span",Za,"/ "+l(a(kt).totalCosts.formatted.totalCost),1)]),t("div",Qa,[t("div",Xa,[t("span",null,[e[36]||(e[36]=U("è¾“å…¥: ",-1)),t("span",Ja,l(f(a(s).totalInputTokens||0)),1)]),t("span",null,[e[37]||(e[37]=U("è¾“å‡º: ",-1)),t("span",ts,l(f(a(s).totalOutputTokens||0)),1)]),(a(s).totalCacheCreateTokens||0)>0?(_(),k("span",es,[e[38]||(e[38]=U("ç¼“å­˜åˆ›å»º: ",-1)),t("span",as,l(f(a(s).totalCacheCreateTokens||0)),1)])):R("",!0),(a(s).totalCacheReadTokens||0)>0?(_(),k("span",ss,[e[39]||(e[39]=U("ç¼“å­˜è¯»å–: ",-1)),t("span",os,l(f(a(s).totalCacheReadTokens||0)),1)])):R("",!0)])])]),e[41]||(e[41]=t("div",{class:"stat-icon flex-shrink-0 bg-gradient-to-br from-emerald-500 to-emerald-600"},[t("i",{class:"fas fa-database"})],-1))])]),t("div",rs,[t("div",ns,[t("div",null,[t("p",ls,[e[42]||(e[42]=U(" å®æ—¶RPM ",-1)),t("span",is,"("+l(a(s).metricsWindow)+"åˆ†é’Ÿ)",1)]),t("p",ds,l(a(s).realtimeRPM||0),1),t("p",cs,[e[44]||(e[44]=U(" æ¯åˆ†é’Ÿè¯·æ±‚æ•° ",-1)),a(s).isHistoricalMetrics?(_(),k("span",us,e[43]||(e[43]=[t("i",{class:"fas fa-exclamation-circle"},null,-1),U(" å†å²æ•°æ® ",-1)]))):R("",!0)])]),e[45]||(e[45]=t("div",{class:"stat-icon flex-shrink-0 bg-gradient-to-br from-orange-500 to-orange-600"},[t("i",{class:"fas fa-tachometer-alt"})],-1))])]),t("div",ms,[t("div",ps,[t("div",null,[t("p",ys,[e[46]||(e[46]=U(" å®æ—¶TPM ",-1)),t("span",gs,"("+l(a(s).metricsWindow)+"åˆ†é’Ÿ)",1)]),t("p",xs,l(f(a(s).realtimeTPM||0)),1),t("p",fs,[e[48]||(e[48]=U(" æ¯åˆ†é’ŸTokenæ•° ",-1)),a(s).isHistoricalMetrics?(_(),k("span",bs,e[47]||(e[47]=[t("i",{class:"fas fa-exclamation-circle"},null,-1),U(" å†å²æ•°æ® ",-1)]))):R("",!0)])]),e[49]||(e[49]=t("div",{class:"stat-icon flex-shrink-0 bg-gradient-to-br from-rose-500 to-rose-600"},[t("i",{class:"fas fa-rocket"})],-1))])])]),t("div",vs,[t("div",hs,[e[56]||(e[56]=t("h3",{class:"text-lg font-bold text-gray-900 dark:text-gray-100 sm:text-xl"}," æ¨¡å‹ä½¿ç”¨åˆ†å¸ƒä¸Tokenä½¿ç”¨è¶‹åŠ¿ ",-1)),t("div",ks,[t("div",_s,[(_(!0),k(Mt,null,Ft(a(tt).presetOptions,y=>(_(),k("button",{key:y.value,class:X(["rounded-md px-3 py-1 text-sm font-medium transition-colors",a(tt).preset===y.value&&a(tt).type==="preset"?"bg-white text-blue-600 shadow-sm dark:bg-gray-800":"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100"]),onClick:P=>a(o)(y.value)},l(y.label),11,ws))),128))]),t("div",Ds,[t("button",{class:X(["rounded-md px-3 py-1 text-sm font-medium transition-colors",a(Z)==="day"?"bg-white text-blue-600 shadow-sm dark:bg-gray-800":"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100"]),onClick:e[0]||(e[0]=y=>a(Ct)("day"))},e[50]||(e[50]=[t("i",{class:"fas fa-calendar-day mr-1"},null,-1),U("æŒ‰å¤© ",-1)]),2),t("button",{class:X(["rounded-md px-3 py-1 text-sm font-medium transition-colors",a(Z)==="hour"?"bg-white text-blue-600 shadow-sm dark:bg-gray-800":"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100"]),onClick:e[1]||(e[1]=y=>a(Ct)("hour"))},e[51]||(e[51]=[t("i",{class:"fas fa-clock mr-1"},null,-1),U("æŒ‰å°æ—¶ ",-1)]),2)]),t("div",Cs,[ae(C,{modelValue:a(tt).customRange,"onUpdate:modelValue":e[2]||(e[2]=y=>a(tt).customRange=y),class:"custom-date-picker w-full lg:w-auto","default-time":a(Pt),"disabled-date":a(Et),"end-placeholder":"ç»“æŸæ—¥æœŸ",format:"YYYY-MM-DD HH:mm:ss","range-separator":"è‡³",size:"default","start-placeholder":"å¼€å§‹æ—¥æœŸ",style:{"max-width":"400px"},type:"datetimerange","value-format":"YYYY-MM-DD HH:mm:ss",onChange:a(L)},null,8,["modelValue","default-time","disabled-date","onChange"]),a(Z)==="hour"?(_(),k("span",Ts,e[52]||(e[52]=[t("i",{class:"fas fa-info-circle"},null,-1),U(" æœ€å¤š24å°æ—¶ ",-1)]))):R("",!0)]),t("div",Ss,[t("div",As,[t("label",$s,[se(t("input",{"onUpdate:modelValue":e[3]||(e[3]=y=>r.value=y),class:"peer sr-only",type:"checkbox"},null,512),[[oe,r.value]]),e[55]||(e[55]=t("div",{class:"peer relative h-5 w-9 rounded-full bg-gray-300 transition-all duration-200 after:absolute after:left-[2px] after:top-0.5 after:h-4 after:w-4 after:rounded-full after:bg-white after:shadow-sm after:transition-transform after:duration-200 after:content-[''] peer-checked:bg-blue-500 peer-checked:after:translate-x-4 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:bg-gray-600 dark:after:bg-gray-300 dark:peer-focus:ring-blue-600"},null,-1)),t("span",Is,[e[53]||(e[53]=t("i",{class:"fas fa-redo-alt text-xs text-gray-500 dark:text-gray-400"},null,-1)),e[54]||(e[54]=t("span",null,"è‡ªåŠ¨åˆ·æ–°",-1)),r.value?(_(),k("span",{key:0,class:X(["ml-1 font-mono text-xs text-blue-600 transition-opacity",u.value>0?"opacity-100":"opacity-0"])},l(u.value)+"s ",3)):R("",!0)])])]),t("button",{class:"flex items-center gap-1 rounded-md border border-gray-300 bg-white px-3 py-1 text-sm font-medium text-blue-600 shadow-sm transition-colors hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 dark:bg-gray-800 dark:hover:bg-gray-700 sm:gap-2",disabled:m.value,title:"ç«‹å³åˆ·æ–°æ•°æ®",onClick:e[4]||(e[4]=y=>zt())},[t("i",{class:X(["fas fa-sync-alt text-xs",{"animate-spin":m.value}])},null,2),t("span",Ps,l(m.value?"åˆ·æ–°ä¸­":"åˆ·æ–°"),1)],8,Rs)])])]),t("div",Bs,[t("div",Us,[e[57]||(e[57]=t("h4",{class:"mb-4 text-base font-semibold text-gray-800 dark:text-gray-200 sm:text-lg"}," Tokenä½¿ç”¨åˆ†å¸ƒ ",-1)),t("div",Ms,[t("canvas",{ref_key:"modelUsageChart",ref:w},null,512)])]),t("div",Fs,[e[60]||(e[60]=t("h4",{class:"mb-4 text-base font-semibold text-gray-800 dark:text-gray-200 sm:text-lg"}," è¯¦ç»†ç»Ÿè®¡æ•°æ® ",-1)),a(J).length===0?(_(),k("div",Ks,e[58]||(e[58]=[t("p",{class:"text-sm text-gray-500 sm:text-base"},"æš‚æ— æ¨¡å‹ä½¿ç”¨æ•°æ®",-1)]))):(_(),k("div",Os,[t("table",Ls,[e[59]||(e[59]=t("thead",{class:"sticky top-0 bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-2 py-2 text-left text-xs font-medium text-gray-700 dark:text-gray-300 sm:px-4"}," æ¨¡å‹ "),t("th",{class:"hidden px-2 py-2 text-right text-xs font-medium text-gray-700 dark:text-gray-300 sm:table-cell sm:px-4"}," è¯·æ±‚æ•° "),t("th",{class:"px-2 py-2 text-right text-xs font-medium text-gray-700 dark:text-gray-300 sm:px-4"}," æ€»Token "),t("th",{class:"px-2 py-2 text-right text-xs font-medium text-gray-700 dark:text-gray-300 sm:px-4"}," è´¹ç”¨ "),t("th",{class:"hidden px-2 py-2 text-right text-xs font-medium text-gray-700 dark:text-gray-300 sm:table-cell sm:px-4"}," å æ¯” ")])],-1)),t("tbody",js,[(_(!0),k(Mt,null,Ft(a(J),y=>(_(),k("tr",{key:y.model,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",Es,[t("span",{class:"block max-w-[100px] truncate sm:max-w-none",title:y.model},l(y.model),9,zs)]),t("td",qs,l(f(y.requests)),1),t("td",Gs,l(f(y.allTokens)),1),t("td",Ns,l(y.formatted?y.formatted.total:"$0.000000"),1),t("td",Hs,[t("span",Vs,l(ut(y.allTokens,a(J)))+"% ",1)])]))),128))])])]))])])]),t("div",Ys,[t("div",Ws,[t("div",Zs,[t("canvas",{ref_key:"usageTrendChart",ref:et},null,512)])])]),t("div",Qs,[t("div",Xs,[t("div",Js,[e[63]||(e[63]=t("h3",{class:"text-base font-semibold text-gray-900 dark:text-gray-100 sm:text-lg"}," API Keys ä½¿ç”¨è¶‹åŠ¿ ",-1)),t("div",to,[t("button",{class:X(["rounded-md px-2 py-1 text-xs font-medium transition-colors sm:px-3 sm:text-sm",a(q)==="requests"?"bg-white text-blue-600 shadow-sm dark:bg-gray-800":"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100"]),onClick:e[5]||(e[5]=y=>(q.value="requests",nt()))},e[61]||(e[61]=[t("i",{class:"fas fa-exchange-alt mr-1"},null,-1),t("span",{class:"hidden sm:inline"},"è¯·æ±‚æ¬¡æ•°",-1),t("span",{class:"sm:hidden"},"è¯·æ±‚",-1)]),2),t("button",{class:X(["rounded-md px-2 py-1 text-xs font-medium transition-colors sm:px-3 sm:text-sm",a(q)==="tokens"?"bg-white text-blue-600 shadow-sm dark:bg-gray-800":"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100"]),onClick:e[6]||(e[6]=y=>(q.value="tokens",nt()))},e[62]||(e[62]=[t("i",{class:"fas fa-coins mr-1"},null,-1),t("span",{class:"hidden sm:inline"},"Token æ•°é‡",-1),t("span",{class:"sm:hidden"},"Token",-1)]),2)])]),t("div",eo,[a(j).totalApiKeys>10?(_(),k("span",ao," å…± "+l(a(j).totalApiKeys)+" ä¸ª API Keyï¼Œæ˜¾ç¤ºä½¿ç”¨é‡å‰ 10 ä¸ª ",1)):(_(),k("span",so," å…± "+l(a(j).totalApiKeys)+" ä¸ª API Key ",1))]),t("div",oo,[t("canvas",{ref_key:"apiKeysUsageTrendChart",ref:Y},null,512)])])]),t("div",ro,[t("div",no,[t("div",lo,[t("div",io,[e[64]||(e[64]=t("h3",{class:"text-base font-semibold text-gray-900 dark:text-gray-100 sm:text-lg"}," è´¦å·ä½¿ç”¨è¶‹åŠ¿ ",-1)),t("span",co," å½“å‰åˆ†ç»„ï¼š"+l(a(O).groupLabel||"æœªé€‰æ‹©"),1)]),t("div",uo,[t("div",mo,[(_(),k(Mt,null,Ft(dt,y=>t("button",{key:y.value,class:X(["rounded-md px-2 py-1 text-xs font-medium transition-colors sm:px-3 sm:text-sm",a(wt)===y.value?"bg-white text-blue-600 shadow-sm dark:bg-gray-800":"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100"]),onClick:P=>Wt(y.value)},l(y.label),11,po)),64))])])]),t("div",yo,[t("span",null,"å…± "+l(a(O).totalAccounts||0)+" ä¸ªè´¦å·",1),a(O).topAccounts&&a(O).topAccounts.length?(_(),k("span",go," æ˜¾ç¤ºæ¶ˆè€—æ’åå‰ "+l(a(O).topAccounts.length)+" ä¸ªè´¦å· ",1)):R("",!0)]),!a(O).data||a(O).data.length===0?(_(),k("div",xo," æš‚æ— è´¦å·ä½¿ç”¨æ•°æ® ")):(_(),k("div",fo,[t("canvas",{ref_key:"accountUsageTrendChart",ref:Tt},null,512)]))])])])}}},Do=ne(bo,[["__scopeId","data-v-66424435"]]);export{Do as default};
